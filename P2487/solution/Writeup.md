# P2487

## 思路

翻译一下题目，$f_{r-l+1}<g(l,r)$ 等价于 $1\sim f$ 中的所有数都在 $[l,r]$ 之间。

因此我们直接统计 `pos` 数组，`pos[i]` 表示包含 $1\sim i$ 的区间的左右端点，递推即可。

统计答案时从小到大枚举 $i$，如果满足
$$len(pos(f[i])) \leq i$$
那么 $i$ 就是答案，直接输出。

如果都不满足，就输出 $0$。

复杂度 $O(n)$，不懂为什么给了 $O(n\log n)$ 的数据范围。

## 细节

注意为了防止越界，应该先判断 $f_i \leq i$ ，此时显然不可能是答案。